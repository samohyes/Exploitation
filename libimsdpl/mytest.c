#include <stdio.h>
#include <dlfcn.h>

int main(){
	char* (*getsecretkey)();
	void* handle;
	char* mystring;

	handle = dlopen("lib-imsdpl.so",RTLD_LAZY);
	printf("open success!\n");
	getsecretkey = dlsym(handle,"qpDplGetSharedSecretKey");
	printf("find the function!\n");
	printf("secret key: %s\n",getsecretkey());
	dlclose(handle);
}

